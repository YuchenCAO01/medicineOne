"use strict";(self["webpackChunkmedicine_one"]=self["webpackChunkmedicine_one"]||[]).push([[685],{1515:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var a=n(1015),r=(n(8474),n(8992)),l=n(3396),s=n(9242),i=n(7139);const o=e=>((0,l.dD)("data-v-6dc456bb"),e=e(),(0,l.Cn)(),e),c={class:"container"},u={class:"center_bar content_container",style:{"margin-left":"0"}},d=o((()=>(0,l._)("h3",{class:"desk_top_only"},"Register",-1))),p={class:"center_bar_content"},_=o((()=>(0,l._)("tr",{class:"center_bar_label"},[(0,l._)("label",{class:"center_bar_title"},"Username:")],-1))),m=o((()=>(0,l._)("tr",{class:"center_bar_label"},[(0,l._)("label",{class:"center_bar_title"},"Nickname:")],-1))),b=o((()=>(0,l._)("tr",{class:"center_bar_label"},[(0,l._)("label",{class:"center_bar_title"},"Set Password:")],-1))),g={key:0,class:"warning"},w=o((()=>(0,l._)("tr",{class:"center_bar_label"},[(0,l._)("label",{class:"center_bar_title"},"Confirm New Password:")],-1))),y=o((()=>(0,l._)("tr",{class:"center_bar_label"},[(0,l._)("label",{class:"center_bar_title"},"Email:")],-1))),h=o((()=>(0,l._)("tr",{class:"center_bar_label"},[(0,l._)("label",{class:"center_bar_title"},"Verification Code:")],-1)));function v(e,t,n,o,v,k){const f=r.Z,N=(0,l.up)("Back"),S=a.gn;return(0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(f,{header:v.headerTitle,btnStyle:v.headerStyle,class:"phone_only",onOpenSideBarEvent:e.openSideBar},null,8,["header","btnStyle","onOpenSideBarEvent"]),(0,l._)("div",u,[d,(0,l._)("button",{onClick:t[0]||(t[0]=(...e)=>k.backToPrev&&k.backToPrev(...e)),class:"return_button desktop_only"},[(0,l.Wm)(S,{size:30,color:"#6E78F7"},{default:(0,l.w5)((()=>[(0,l.Wm)(N)])),_:1})]),(0,l._)("table",p,[_,(0,l._)("tr",null,[(0,l._)("p",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>v.userName=e),class:"input_area"},null,512),[[s.nr,v.userName,void 0,{trim:!0}]])])]),m,(0,l._)("tr",null,[(0,l._)("p",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>v.nickName=e),class:"input_area"},null,512),[[s.nr,v.nickName,void 0,{trim:!0}]])])]),b,(0,l._)("tr",null,[(0,l._)("p",null,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>v.pwd=e),class:"input_area"},null,512),[[s.nr,v.pwd,void 0,{trim:!0}]])]),v.iswarning?((0,l.wg)(),(0,l.iD)("p",g,(0,i.zw)(e.warningText),1)):(0,l.kq)("",!0)]),w,(0,l._)("tr",null,[(0,l._)("p",null,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>v.pwdRepeat=e),class:"input_area"},null,512),[[s.nr,v.pwdRepeat,void 0,{trim:!0}]])])]),y,(0,l._)("tr",null,[(0,l._)("p",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>v.email=e),class:"input_area"},null,512),[[s.nr,v.email,void 0,{trim:!0}]])])]),h,(0,l._)("tr",null,[(0,l._)("p",null,[(0,l.wy)((0,l._)("input",{type:"string","onUpdate:modelValue":t[6]||(t[6]=e=>v.code=e),class:"input_area"},null,512),[[s.nr,v.code,void 0,{trim:!0}]])])]),(0,l._)("tr",null,[(0,l._)("p",null,[(0,l._)("input",{type:"button",class:"purple_button",value:"Send Verify Code",onClick:t[7]||(t[7]=(...e)=>k.verifyButton&&k.verifyButton(...e))})])]),(0,l._)("tr",null,[(0,l._)("p",null,[(0,l._)("input",{type:"submit",value:"Confirm",class:"purple_button",onClick:t[8]||(t[8]=(...e)=>k.registerUser&&k.registerUser(...e))})])])])])])}var k=n(6666),f=n(4775),N=(n(8742),n(3163),n(1994)),S={name:"RegisterView",data(){return{iswarning:!1,errorMessage:"",emailMessage:"",email:"",code:"",userName:"",nickName:"",pwd:"",pwdRepeat:"",headerStyle:"Return",headerTitle:"Register",keyWord:""}},components:{HeadBar:r.Z},methods:{verifyButton(){this.verifyCode()},verifyCode(){var e=this;const t=this.openFullScreen2();N.Z.emailVerify(e.userName,e.email).then((function(e){t.close(),200==e.data.status?(console.log(e.data),(0,k.bM)({message:"Verify code send out",type:"success",duration:5e3})):(0,k.bM)({message:"Invalid email",type:"error",duration:5e3})}))},backToPrev(){this.$router.back(-1)},confirmButton(){var e=this;console.log(this.iswarning),0==e.iswarning?(console.log(1),this.registerUser()):(0,k.bM)({message:"Input does not meet requirements.",type:"warning",duration:5e3})},registerUser(){var e=this;if(e.email.length<1||e.code.length<1||e.userName.length<1||e.nickName.length<1||e.pwd.length<1||e.pwdRepeat.length<1)(0,k.bM)({message:"Please complete all information!",type:"warning",duration:5e3});else if(e.pwd.length<=7)(0,k.bM)({message:"The password must be at least 8 characters!",type:"warning",duration:5e3});else if(e.pwd!=e.pwdRepeat)(0,k.bM)({message:"Password entries are inconsistent. Please enter again!",type:"warning",duration:5e3});else{const t=this.openFullScreen2();t.close(),N.Z.register(e.email,e.code,e.userName,e.nickName,e.pwd).then((function(t){200==t.data.status?(e.$router.push({path:"/"}),(0,k.bM)({message:"Success!",type:"success",duration:5e3})):(e.errorMessage=t.data.msg,(0,k.bM)({message:e.errorMessage,type:"error",duration:5e3}))}))}},openFullScreen2(){const e=f.kN.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});return e}},mounted(){this.displayDeskOnly=window.innerWidth>992}},C=n(89);const M=(0,C.Z)(S,[["render",v],["__scopeId","data-v-6dc456bb"]]);var U=M}}]);
//# sourceMappingURL=register.b5eca1a0.js.map