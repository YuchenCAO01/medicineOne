{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4f8dca7b\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"add_medi\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Add Medicine\");\n\nconst _hoisted_3 = {\n  class: \"FDA_info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  const _component_el_popover = _resolveComponent(\"el-popover\");\n\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n\n  const _component_UploadImage = _resolveComponent(\"UploadImage\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_DetailDescription = _resolveComponent(\"DetailDescription\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_form, {\n    model: $data.form,\n    \"label-width\": this.formWidth,\n    class: \"add_medi_form\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"Name\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.form.brandname,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.brandname = $event),\n        onBlur: _cache[1] || (_cache[1] = $event => $options.getFDAInfo($data.form.brandname))\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_popover, {\n      placement: \"top-start\",\n      title: \"Location not on the list?\",\n      width: 280,\n      trigger: \"hover\",\n      content: \"Adding a location in My Location.\"\n    }, {\n      reference: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"Location\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $data.form.locationid,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.locationid = $event),\n          placeholder: \"select storage locations\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.locations, loc => {\n            return _openBlock(), _createBlock(_component_el_option, {\n              key: loc,\n              label: loc.address,\n              value: loc.locationid\n            }, null, 8\n            /* PROPS */\n            , [\"label\", \"value\"]);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"Used by\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n        modelValue: $data.form.validity,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.form.validity = $event),\n        type: \"date\",\n        placeholder: \"DD/MM/YYYY\",\n        format: \"DD/MM/YYYY\",\n        style: _normalizeStyle(this.isPhone ? 'width : 70%' : 'width : 60%')\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\", \"style\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"Quantitiy\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.form.quantity,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.form.quantity = $event),\n        class: \"quant_dosage_item\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"]), _createVNode(_component_el_select, {\n        modelValue: $data.form.quantitytype,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.form.quantitytype = $event),\n        placeholder: \"select unit\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"Unit\",\n          value: \"Unit \"\n        }), _createVNode(_component_el_option, {\n          label: \"Boxes\",\n          value: \"Boxes \"\n        }), _createVNode(_component_el_option, {\n          label: \"Bags\",\n          value: \"Bags \"\n        }), _createVNode(_component_el_option, {\n          label: \"Bottles\",\n          value: \"Bottles \"\n        }), _createVNode(_component_el_option, {\n          label: \"Tubes\",\n          value: \"Tubes \"\n        }), _createVNode(_component_el_option, {\n          label: \"Packages\",\n          value: \"Packages \"\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"Dosage\",\n      class: \"doage_item\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.form.dosage,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.form.dosage = $event),\n        class: \"quant_dosage_item\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"]), _createVNode(_component_el_select, {\n        modelValue: $data.form.dosagetype,\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.form.dosagetype = $event),\n        placeholder: \"select unit\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"Pills\",\n          value: \"Pills \"\n        }), _createVNode(_component_el_option, {\n          label: \"Capsules\",\n          value: \"Capsules \"\n        }), _createVNode(_component_el_option, {\n          label: \"Drops\",\n          value: \"Drops \"\n        }), _createVNode(_component_el_option, {\n          label: \"Patches\",\n          value: \"Patches \"\n        }), _createVNode(_component_el_option, {\n          label: \"Bags\",\n          value: \"Bags \"\n        }), _createVNode(_component_el_option, {\n          label: \"Bottles\",\n          value: \"Bottles \"\n        }), _createVNode(_component_el_option, {\n          label: \"Tubes\",\n          value: \"Tubes \"\n        }), _createVNode(_component_el_option, {\n          label: \"g\",\n          value: \"g \"\n        }), _createVNode(_component_el_option, {\n          label: \"ml\",\n          value: \"ml \"\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"]), _createVNode(_component_el_select, {\n        modelValue: $data.dosageFreq,\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.dosageFreq = $event),\n        placeholder: \"select frequency\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"1 times per day\",\n          value: \"1 times per day\"\n        }), _createVNode(_component_el_option, {\n          label: \"2 times per day\",\n          value: \"2 times per day\"\n        }), _createVNode(_component_el_option, {\n          label: \"3 times per day\",\n          value: \"3 times per day\"\n        }), _createVNode(_component_el_option, {\n          label: \"4 times per day\",\n          value: \"4 times per day\"\n        }), _createVNode(_component_el_option, {\n          label: \"When needed\",\n          value: \"When needed\"\n        }), _createVNode(_component_el_option, {\n          label: \"Emergency\",\n          value: \"Emergency\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 12 hour\",\n          value: \"Every 12 hour\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 2 hour\",\n          value: \"Every 2 hour\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 4 hour\",\n          value: \"Every 4 hour\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 6 hour\",\n          value: \"Every 6 hour\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 8 hour\",\n          value: \"Every 8 hour\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 10 hour\",\n          value: \"Every 10 hour\"\n        }), _createVNode(_component_el_option, {\n          label: \"Every 12 hour\",\n          value: \"Every 12 hour\"\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"Note\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.mediNote,\n        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.mediNote = $event),\n        type: \"textarea\",\n        class: \"note_text_area\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      style: {},\n      label: \"Photo\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_UploadImage, {\n        onUploaded: $options.handleImageUpload,\n        onRemoved: _cache[10] || (_cache[10] = $event => $options.handleImageRemoved(_ctx.file))\n      }, null, 8\n      /* PROPS */\n      , [\"onUploaded\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: _cache[11] || (_cache[11] = $event => $options.onSubmit())\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\", \"label-width\"]), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(), _createBlock(_component_DetailDescription, {\n    detailInfo: this.form,\n    key: this.FDAResult\n  }, null, 8\n  /* PROPS */\n  , [\"detailInfo\"]))])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementBlock","_createVNode","_component_el_form","model","$data","formWidth","_component_el_form_item","label","_component_el_input","brandname","$event","onBlur","$options","_component_el_popover","placement","title","width","trigger","content","reference","_component_el_select","locationid","placeholder","_Fragment","_renderList","locations","loc","_createBlock","_component_el_option","key","address","value","_component_el_date_picker","validity","type","format","style","isPhone","quantity","quantitytype","dosage","dosagetype","_component_UploadImage","onUploaded","onRemoved","_ctx","_component_el_button","onClick","_createElementVNode","_component_DetailDescription","detailInfo","form","FDAResult"],"sourceRoot":"","sources":["/Users/yuchencao/C/CICD Learning/medicineOne/src/main/resources/medioneVUE/medicine-one/src/components/AddMedicine.vue"],"sourcesContent":["/**\n/*\n* \n* @description: This component contains add medicine page function,\n*               function include add medicine, upload image, show medicine details\n* @author: Yuchen Cao\n* @update: Yuchen Cao (2022-11-3 10:14)\n*\n*/\n\n<template>\n  <div class=\"add_medi\">\n    <el-form :model=\"form\" :label-width=\"this.formWidth\" class=\"add_medi_form\">\n      <el-form-item label=\"Name\">\n        <el-input v-model=\"form.brandname\" @blur=\"getFDAInfo(form.brandname)\"/>\n      </el-form-item>\n      <el-popover\n        placement=\"top-start\"\n        title=\"Location not on the list?\"\n        :width=\"280\"\n        trigger=\"hover\"\n        content=\"Adding a location in My Location.\"\n      >\n        <template #reference>\n          <el-form-item label=\"Location\">\n            <el-select v-model=\"form.locationid\" placeholder=\"select storage locations\">\n              <el-option v-for=\"loc in this.locations\" :key=\"loc\" :label=loc.address :value=loc.locationid />\n            </el-select>\n          </el-form-item>\n        </template>\n      </el-popover>\n      <el-form-item label=\"Used by\">\n          <el-date-picker\n            v-model=\"form.validity\"\n            type=\"date\"\n            placeholder=\"DD/MM/YYYY\"\n            format=\"DD/MM/YYYY\"\n            :style=\"this.isPhone ? 'width : 70%' : 'width : 60%'\"\n          />\n      </el-form-item>\n      <el-form-item label=\"Quantitiy\">\n        <el-input v-model=\"form.quantity\" class=\"quant_dosage_item\" />\n        <el-select v-model=\"form.quantitytype\" placeholder=\"select unit\">\n          <el-option label=\"Unit\" value=\"Unit \" />\n          <el-option label=\"Boxes\" value=\"Boxes \" />\n          <el-option label=\"Bags\" value=\"Bags \" />\n          <el-option label=\"Bottles\" value=\"Bottles \" />\n          <el-option label=\"Tubes\" value=\"Tubes \" />\n          <el-option label=\"Packages\" value=\"Packages \" />\n\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"Dosage\" class=\"doage_item\">\n        <el-input v-model=\"form.dosage\" class=\"quant_dosage_item\" />\n        <el-select v-model=\"form.dosagetype\" placeholder=\"select unit\">\n          <el-option label=\"Pills\" value=\"Pills \" />\n          <el-option label=\"Capsules\" value=\"Capsules \" />\n          <el-option label=\"Drops\" value=\"Drops \" />\n          <el-option label=\"Patches\" value=\"Patches \" />\n          <el-option label=\"Bags\" value=\"Bags \" />\n          <el-option label=\"Bottles\" value=\"Bottles \" />\n          <el-option label=\"Tubes\" value=\"Tubes \" />\n          <el-option label=\"g\" value=\"g \" />\n          <el-option label=\"ml\" value=\"ml \" />\n        </el-select>\n        <el-select v-model=\"dosageFreq\" placeholder=\"select frequency\">\n          <el-option label=\"1 times per day\" value=\"1 times per day\" />\n          <el-option label=\"2 times per day\" value=\"2 times per day\" />\n          <el-option label=\"3 times per day\" value=\"3 times per day\" />\n          <el-option label=\"4 times per day\" value=\"4 times per day\" />\n          <el-option label=\"When needed\" value=\"When needed\" />\n          <el-option label=\"Emergency\" value=\"Emergency\" />\n          <el-option label=\"Every 12 hour\" value=\"Every 12 hour\" />\n          <el-option label=\"Every 2 hour\" value=\"Every 2 hour\" />\n          <el-option label=\"Every 4 hour\" value=\"Every 4 hour\" />\n          <el-option label=\"Every 6 hour\" value=\"Every 6 hour\" />\n          <el-option label=\"Every 8 hour\" value=\"Every 8 hour\" />\n          <el-option label=\"Every 10 hour\" value=\"Every 10 hour\" />\n          <el-option label=\"Every 12 hour\" value=\"Every 12 hour\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"Note\">\n        <el-input v-model=\"mediNote\" type=\"textarea\" class=\"note_text_area\"/>\n      </el-form-item>\n      <el-form-item style=\"display=block\" label=\"Photo\">\n        <UploadImage @uploaded=\"handleImageUpload\" @removed=\"handleImageRemoved(file)\"></UploadImage>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit()\">Add Medicine</el-button>\n      </el-form-item>\n    </el-form>\n    <div class=\"FDA_info\">\n      <DetailDescription :detailInfo=\"this.form\" :key=\"this.FDAResult\"></DetailDescription>\n    </div>\n  </div>\n  \n</template>\n\n<script>\nimport store from '../store/index'\nimport api from '../api/index'\nimport DetailDescription from './DetailDescription.vue'\nimport { ref } from 'vue'\nimport UploadImage from './UploadImage.vue'\n\nexport default {\n  name: \"AddMedicine\",\n  data() {\n      return {\n          isPhone: false,\n          formWidth: \"13%\",\n          locations: [],\n          form: {\n              id: -1,\n              brandname: \"\",\n              image: \"\",\n              quantity: \"\",\n              validity: \"\",\n              dosage: \"\",\n              dosagetype: \"\",\n              quantitytype: \"\",\n              manufacturername: \"\",\n              genericname: \"\",\n              producttype: \"\",\n              route: \"\",\n              description: \"\",\n              usage: \"\",\n              warnings: \"\",\n              contraindications: \"\",\n              adversereaction: \"\",\n              overdosage: \"\",\n              username: \"\",\n              locationid: \"\"\n          },\n          mediNote: \"\",\n          FDAResult: null,\n          dosageFreq : \"\",\n      };\n  },\n  props: {},\n  methods: {\n      onSubmit() {\n        var validFlag = this.isFormValid(this.form)\n        if(validFlag.type === \"error\"){\n          ElNotification.error(validFlag.msg)\n          return null\n        } else if(validFlag.type === \"warning\"){\n          ElNotification({\n                      message: validFlag.msg,\n                      type: 'warning',\n          })\n        }\n\n        this.form.dosagetype = this.form.dosagetype + this.dosageFreq\n        this.form.validity = this.form.validity.toLocaleDateString('en-GB')\n        console.log(\"Medicine Information\")\n        console.log(this.form);\n        var that = this\n        api.addMedicine(this.form).then(res => {\n          console.log(res)\n          if(res.data.status === 200){\n            if(that.mediNote !== \"\"){\n              that.addNote(res.data.data)\n            }\n\n            ElNotification({\n                      message: 'SUCCESS',\n                      type: 'success',\n            })\n            that.triggerUpdate()\n          }\n        })\n      },\n\n      addNote(id){\n        console.log(\"id : \" + id)\n        console.log(this.mediNote)\n        api.addMediNote(id, this.mediNote)\n      },\n\n      triggerUpdate(){\n        this.$emit(\"medicine-updated\")\n        this.backtoDashboard()\n      },\n\n      backtoDashboard(){\n        console.log(\"back to dashboard triggered\")\n        var mode = {\n          view : 'default',\n        }\n        this.$emit(\"switch-event\", mode)\n\t\t  },\n\n      isFormValid(form){\n        var results = {\n          state : true,\n          msg : \"Valid form\",\n          type : \"success\"\n        }\n        if(form.brandname.length <= 0){\n          results.state = false,\n          results.msg = \"Brand name missing\"\n          results.type = \"error\"\n          return results\n        }\n        if(form.validity === \"\"){\n          results.state = false,\n          results.msg = \"Expiration date missing\"\n          results.type = \"error\"\n          return results\n        }\n        if(form.quantity === \"\"){\n          results.state = false,\n          results.msg = \"Quantity missing\"\n          results.type = \"error\"\n          return results\n        }\n        if(form.quantitytype === \"\"){\n          results.state = false,\n          results.msg = \"Quantity Unit missing\"\n          results.type = \"error\"\n          return results\n        }\n        if(form.dosage === \"\"){\n          results.state = false,\n          results.msg = \"Dosage missing\"\n          results.type = \"error\"\n          return results\n        }\n        if(form.dosagetype === \"\"){\n          results.state = false,\n          results.msg = \"Dosage Unit missing\"\n          results.type = \"error\"\n          return results\n        }\n        if(this.dosageFreq === \"\"){\n          results.state = false,\n          results.msg = \"Dosage frequency missing\"\n          results.type = \"error\"\n          return results\n        }          \n        if(form.locations === \"\"){\n          results.state = false,\n          results.msg = \"Location missing\"\n          results.type = \"warning\"\n          return results\n        }\n        if(form.image === \"\"){\n          results.state = false,\n          results.msg = \"Image missing\"\n          results.type = \"warning\"\n          return results\n        }\n        return results\n      },\n\n      getFDAInfo(brandname) {\n          console.log(\"User entered \" + brandname);\n          var name = brandname.toUpperCase();\n          var that = this\n          if (name !== \"\") {\n              api.getFDAData(name).then((res) => {\n                  console.log(res.data);\n\n\n                  try{\n                    that.FDAResult = res.data.results[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  // that.FDAResult = res.data.results[0]\n\n\n                  try{\n                    that.form.manufacturername = that.FDAResult.openfda.manufacturer_name[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.manufacturername = that.FDAResult.openfda.manufacturer_name[0]\n\n\n                  try{\n                    that.form.genericname = that.FDAResult.openfda.generic_name[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.genericname = that.FDAResult.openfda.generic_name[0]\n\n\n                  try{\n                    that.form.producttype = that.FDAResult.openfda.product_type[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.producttype = that.FDAResult.openfda.product_type[0]\n\n\n                  try{\n                    that.form.route = that.FDAResult.openfda.route[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.route = that.FDAResult.openfda.route[0]\n\n\n                  try{\n                    that.form.description = that.FDAResult.description[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.description = that.FDAResult.description[0]\n\n\n                  try{\n                    that.form.usage = that.FDAResult.indications_and_usage[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.usage = that.FDAResult.indications_and_usage[0]\n\n\n                  try{\n                    that.form.warnings = that.FDAResult.warnings_and_cautions[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.warnings = that.FDAResult.warnings_and_cautions[0]\n\n\n                  try{\n                    that.form.contraindications = that.FDAResult.contraindications[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.contraindications = that.FDAResult.contraindications[0]\n\n\n                  try{\n                    that.form.adversereaction = that.FDAResult.adverse_reactions[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.adversereaction = that.FDAResult.adverse_reactions[0]\n\n\n                  try{\n                    that.form.overdosage = that.FDAResult.overdosage[0]\n                  } catch (e){\n                    console.error(e)\n                  }\n                  //that.form.overdosage = that.FDAResult.overdosage[0]\n                  ElNotification({\n                            message: \"Extra information is ready\",\n                            type: 'success',\n                          })\n              },\n              ()=>{\n                console.log(\"Medicine Name Not Found\")\n                ElNotification({\n                            message: \"No extra information found\",\n                            type: 'warning',\n                          })\n              });\n          }\n          else {\n              console.log(\"No input\");\n          }\n      },\n      handleImageUpload(url){\n        console.log(\"Image URL is \" + url)\n        this.form.image = url\n      },\n      handleImageRemoved(file){\n        console.log(\"Image deleted\")\n        this.form.image = \"\"\n      }\n  },\n  created() {\n      this.isPhone = !(window.innerWidth > 992);\n      this.locations = store.getters.getLocations;\n      if (this.isPhone) {\n          this.formWidth = \"22%\";\n      }\n      this.form.username = store.getters.getUserName\n  },\n  components: { DetailDescription, UploadImage }\n}\n\n</script>\n\n<style scoped>\n  *{\n    font-family: Tahoma, sans-serif;\n  }\n  .add_medi_form{\n    width : 100%;\n  }\n\n  .add_medi_form :deep(.el-form-item__content) {\n    flex-wrap: inherit;\n  }\n\n\n\n\n  @media screen and (max-width: 992px){\n    .add_medi_form :deep(.el-form-item__label) {\n      font-weight: 900;\n      color: #6E78F7;\n    }\n    .quant_dosage_item{\n      width: 40%;\n      margin-right: 1em;\n    }\n\n    .note_text_area :deep(.el-textarea__inner){\n      border-radius: 1em;\n      box-shadow: 2px 2px 2px #b8cbdd;\n      height: 5em;\n    }\n\n    .FDA_info{\n      margin-top: 2em;\n    }\n    \n    .doage_item :deep(.el-form-item__content){\n      display: block;\n    }\n  }\n\n\n\n\n  @media screen and (min-width: 992px){\n    .add_medi_form{\n      width: 45%;\n      padding: 2em;\n      border-radius: 2em;\n      margin-right: 2em;\n      box-shadow: 5px 5px 5px 5px #b8cbdd;\n      height: 50%;\n    }\n\n    .FDA_info{\n      width: 45%;\n      border-radius: 2em;\n      margin-right: 2em;\n      box-shadow: 5px 5px 5px 5px #b8cbdd;\n      padding-top: 2em;\n      padding-left: 1em;\n      padding-right: 1em;\n      padding-bottom: 2em;\n      height: 100%;\n    }\n    \n    .add_medi{\n      display: flex;\n    }\n\n    .add_medi_form :deep(.el-form-item__label) {\n      font-size: 0.9em;\n      font-weight: 900;\n      color: #6E78F7;\n    }\n    .quant_dosage_item{\n      width: 20%;\n    }\n    .note_text_area :deep(.el-textarea__inner){\n      border-radius: 1em;\n      box-shadow: 2px 2px 2px #b8cbdd;\n      height: 5em;\n    }\n  }\n  \n</style>"]},"metadata":{},"sourceType":"module"}