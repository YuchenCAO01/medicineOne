{"ast":null,"code":"import SideBar from '../components/SideBar.vue';\nimport api from '../api/index'; // import store from '../store/index';\n\nexport default {\n  name: 'HomeView',\n\n  data() {\n    return {\n      displayFlag: false,\n      displayDeskOnly: true,\n      warningText: \"\",\n      userName: \"\",\n      pwd: \"\"\n    };\n  },\n\n  components: {\n    SideBar\n  },\n  methods: {\n    openSideBar() {\n      this.displayFlag = true;\n    },\n\n    closeSideBar() {\n      this.displayFlag = false;\n    },\n\n    handleLogin() {\n      this.verifyUser();\n    },\n\n    verifyUser() {\n      var that = this;\n      console.log(that.userName);\n      console.log(that.pwd.length > 0 ? \"password entered\" : \"Password is empty\");\n      const loading = this.openFullScreen2();\n      api.login(that.userName, that.pwd).then(function (response) {\n        console.log(response.data.data);\n        console.log(response);\n        loading.close();\n\n        if (response.data.status == 200) {\n          that.$store.commit(\"authenticate\");\n          that.$router.push({\n            path: '/dashboard/' + response.data.data.username\n          });\n        } else {\n          that.warningText = \"Incorrect username or password, please try again\";\n        }\n      });\n      console.log(\"Auth flag \" + that.$store.getters.isAuthenticated);\n    },\n\n    openFullScreen2() {\n      const loading = ElLoading.service({\n        lock: true,\n        text: 'Loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      }); // setTimeout(() => {\n      //   loading.close()\n      // }, 10000)\n\n      return loading;\n    }\n\n  },\n\n  mounted() {\n    this.displayDeskOnly = window.innerWidth > 992;\n  }\n\n};","map":{"version":3,"mappings":"AAiEA,OAAOA,OAAP,MAAoB,2BAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB,C,CACA;;AAGE,eAAe;EACbC,IAAI,EAAE,UADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,WAAU,EAAI,KADT;MAELC,eAAe,EAAE,IAFZ;MAGLC,WAAU,EAAI,EAHT;MAILC,QAAO,EAAI,EAJN;MAKLC,GAAE,EAAI;IALD,CAAP;EASD,CAZY;;EAabC,UAAU,EAAE;IACVT;EADU,CAbC;EAgBbU,OAAO,EAAE;IACPC,WAAW,GAAE;MACX,KAAKP,WAAL,GAAmB,IAAnB;IACD,CAHM;;IAIPQ,YAAY,GAAE;MACZ,KAAKR,WAAL,GAAmB,KAAnB;IACD,CANM;;IAOPS,WAAW,GAAE;MACX,KAAKC,UAAL;IACD,CATM;;IAUPA,UAAU,GAAE;MACV,IAAIC,IAAI,GAAC,IAAT;MACAC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACR,QAAjB;MACAS,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACP,GAAL,CAASU,MAAT,GAAkB,CAAlB,GAAsB,kBAAtB,GAA2C,mBAAvD;MACA,MAAMC,OAAM,GAAI,KAAKC,eAAL,EAAhB;MAEAnB,GAAG,CAACoB,KAAJ,CAAUN,IAAI,CAACR,QAAf,EAAyBQ,IAAI,CAACP,GAA9B,EAAmCc,IAAnC,CAAwC,UAASC,QAAT,EAAkB;QACxDP,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACpB,IAAT,CAAcA,IAA1B;QACAa,OAAO,CAACC,GAAR,CAAYM,QAAZ;QACAJ,OAAO,CAACK,KAAR;;QACA,IAAGD,QAAQ,CAACpB,IAAT,CAAcsB,MAAd,IAAwB,GAA3B,EAA+B;UAC7BV,IAAI,CAACW,MAAL,CAAYC,MAAZ,CAAmB,cAAnB;UACAZ,IAAI,CAACa,OAAL,CAAaC,IAAb,CAAkB;YAACC,IAAG,EAAI,gBAAgBP,QAAQ,CAACpB,IAAT,CAAcA,IAAd,CAAmB4B;UAA3C,CAAlB;QACF,CAHA,MAII;UACFhB,IAAI,CAACT,WAAL,GAAmB,kDAAnB;QACF;MACD,CAXD;MAaAU,OAAO,CAACC,GAAR,CAAY,eAAeF,IAAI,CAACW,MAAL,CAAYM,OAAZ,CAAoBC,eAA/C;IACD,CA9BM;;IAgCPb,eAAe,GAAE;MACf,MAAMD,OAAM,GAAIe,SAAS,CAACC,OAAV,CAAkB;QAChCC,IAAI,EAAE,IAD0B;QAEhCC,IAAI,EAAE,SAF0B;QAGhCC,UAAU,EAAE;MAHoB,CAAlB,CAAhB,CADe,CAMf;MACA;MACA;;MACA,OAAOnB,OAAP;IACF;;EA1CO,CAhBI;;EA4DboB,OAAO,GAAG;IACR,KAAKlC,eAAL,GAAwBmC,MAAM,CAACC,UAAP,GAAoB,GAA5C;EACF;;AA9Da,CAAf","names":["SideBar","api","name","data","displayFlag","displayDeskOnly","warningText","userName","pwd","components","methods","openSideBar","closeSideBar","handleLogin","verifyUser","that","console","log","length","loading","openFullScreen2","login","then","response","close","status","$store","commit","$router","push","path","username","getters","isAuthenticated","ElLoading","service","lock","text","background","mounted","window","innerWidth"],"sourceRoot":"","sources":["/Users/yuchencao/C/CICD Learning/medicineOne/src/main/resources/medioneVUE/medicine-one/src/views/HomeView.vue"],"sourcesContent":["/**\n/*\n* \n* @description: This view contains the login function\n* @author: Yuchen Cao\n* @update: Yuchen Cao(2022-11-5 12:14)\n*\n*/\n<template>\n  <div class=\"container\">\n    <div class = \"website_header phone_only\">\n      <button class=\"open_button\"\n      @click=\"openSideBar\">\n      â˜°\n      </button>\n      <h1 class = \"website_title\">\n        Medicine One\n      </h1>\n    </div>\n    <SideBar @close-side-bar-event=\"closeSideBar\" v-show=\"displayFlag\" ref=\"ChildSideBar\"></SideBar>\n    <!-- The side bar of the website -->\n    <div class=\"center_bar content_container\" style=\"margin-left: 0;\">\n\n      <h3 class=\"desktop_only\">Medicine One</h3>\n\n      <h4 class=\"desktop_only\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; by Team 010</h4>\n\n      <table class=\"center_bar_content\">\n        <tr class=\"center_bar_label\"><label class=\"center_bar_title\">User Name</label></tr>\n        <tr><input v-model.trim=\"userName\" type=\"text\" class=\"input_area\"></tr>\n\n        <tr class=\"center_bar_label\"><label class=\"center_bar_title\">Password</label></tr>\n        <tr><input v-model.trim=\"pwd\" type=\"password\" class=\"input_area\"></tr>\n        <tr style=\"text-align:right\">\n          <router-link to=\"/resetPassword\">\n            <a id=\"forget_pwd\" >Forget Password?</a>\n          </router-link>\n        </tr>\n        <tr><p class = \"warning\">{{ warningText }}</p></tr>\n        <tr><input type=\"submit\" name=\"login\" \n            value=\"Login\" class=\"purple_button\" @click=\"handleLogin\"></tr>\n        <tr>\n          <router-link to=\"/register\">\n            <div class = \"purple_button\" style=\"display: inline-block\">\n              <p style=\"margin-top:0.2em\">Register</p>\n            </div>\n          </router-link>\n        </tr>\n        <tr>\n          <router-link v-if=\"displayDeskOnly\" to=\"/about\">\n            <div class = \"purple_button\" style=\"display: inline-block\">\n              <p style=\"margin-top:0.2em\">About Medicine One</p>\n            </div>\n          </router-link>\n        </tr>\n\n\n      </table>\n\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideBar from '../components/SideBar.vue';\nimport api from '../api/index';\n// import store from '../store/index';\n\n\n  export default {\n    name: 'HomeView',\n    data() {\n      return {\n        displayFlag : false,\n        displayDeskOnly: true,\n        warningText : \"\",\n        userName : \"\",\n        pwd : \"\",\n\n\n      }\n    },\n    components: {\n      SideBar,\n    },\n    methods: {\n      openSideBar(){\n        this.displayFlag = true;\n      },\n      closeSideBar(){\n        this.displayFlag = false;\n      },\n      handleLogin(){\n        this.verifyUser()\n      },\n      verifyUser(){\n        var that=this;\n        console.log(that.userName);\n        console.log(that.pwd.length > 0 ? \"password entered\" : \"Password is empty\");\n        const loading = this.openFullScreen2();\n        \n        api.login(that.userName, that.pwd).then(function(response){\n          console.log(response.data.data);\n          console.log(response)\n          loading.close()\n          if(response.data.status == 200){\n            that.$store.commit(\"authenticate\");\n            that.$router.push({path : '/dashboard/' + response.data.data.username})\n          }\n          else{\n            that.warningText = \"Incorrect username or password, please try again\"\n          }\n        })\n\n        console.log(\"Auth flag \" + that.$store.getters.isAuthenticated)\n      },\n\n      openFullScreen2(){\n        const loading = ElLoading.service({\n          lock: true,\n          text: 'Loading',\n          background: 'rgba(0, 0, 0, 0.7)',\n        })\n        // setTimeout(() => {\n        //   loading.close()\n        // }, 10000)\n        return loading\n      }\n    },\n    mounted() {\n      this.displayDeskOnly = (window.innerWidth > 992)\n    }\n  }\n\n</script>\n\n\n<style scoped src=\"../assets/library/css/desktop_base_format.css\"></style>\n<style scoped src=\"../assets/library/css/phone_base_format.css\"></style>\n<style scoped src=\"../assets/library/css/background_and_center_bar.css\"></style>\n<style scoped src=\"../assets/library/css/login.css\"></style>\n"]},"metadata":{},"sourceType":"module"}