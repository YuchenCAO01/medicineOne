{"ast":null,"code":"import store from '../store/index';\nimport api from '../api/index';\nexport default {\n  name: 'Mylocation',\n\n  data() {\n    return {\n      isAdding: false,\n      locations: [],\n      newLocstring: ''\n    };\n  },\n\n  methods: {\n    addNewLoc() {\n      console.log(\"adding new locations\");\n\n      if (this.locations.length < 5) {\n        this.isAdding = true;\n      } else {\n        ElMessage.error('At most 5 locations');\n      }\n    },\n\n    confirmAdd() {\n      console.log('new location is ' + this.newLocstring);\n      var emial = store.getters.getEmail;\n      var locInfo = {\n        locationid: -1,\n        email: emial,\n        address: this.newLocstring\n      };\n      var that = this;\n      api.addLocation(locInfo).then(res => {\n        console.log(res.data);\n        that.locations.push(locInfo);\n        that.clsoeNewLocBar();\n        that.newLocstring = '';\n        that.triggerUpdate();\n      }); // this.clsoeNewLocBar()\n      // this.locations.push(locInfo)\n      // this.newLocstring = ''\n    },\n\n    clsoeNewLocBar() {\n      console.log(\"close new loc bar\");\n      this.isAdding = false;\n    },\n\n    deleteLoc(index) {\n      console.log(\"Delete location \" + this.locations[index].address);\n      var locInfo = this.locations[index];\n      var that = this;\n      api.deleteLocation(locInfo).then(res => {\n        console.log(res.data);\n        that.locations.splice(index, 1);\n        that.triggerUpdate();\n      }); // this.locations.splice(index, 1)\n    },\n\n    triggerUpdate() {\n      this.$emit(\"location-update\");\n    },\n\n    removeLocation() {\n      this.locations.splice(index, 1);\n    }\n\n  },\n\n  created() {\n    this.locations = store.getters.getLocations;\n\n    if (this.locations == null) {\n      this.locations = [];\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAsCE,OAAOA,KAAP,MAAkB,gBAAlB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,eAAe;EACfC,IAAI,EAAE,YADS;;EAEfC,IAAI,GAAG;IACL,OAAO;MACLC,QAAO,EAAI,KADN;MAELC,SAAQ,EAAI,EAFP;MAGLC,YAAW,EAAI;IAHV,CAAP;EAKD,CARc;;EASfC,OAAO,EAAE;IAEPC,SAAS,GAAE;MACTC,OAAO,CAACC,GAAR,CAAY,sBAAZ;;MACA,IAAG,KAAKL,SAAL,CAAeM,MAAf,GAAwB,CAA3B,EAA6B;QAC3B,KAAKP,QAAL,GAAgB,IAAhB;MACF,CAFA,MAGK;QACHQ,SAAS,CAACC,KAAV,CAAgB,qBAAhB;MACF;IACD,CAVM;;IAYPC,UAAU,GAAE;MACVL,OAAO,CAACC,GAAR,CAAY,qBAAqB,KAAKJ,YAAtC;MACA,IAAIS,KAAI,GAAIf,KAAK,CAACgB,OAAN,CAAcC,QAA1B;MACA,IAAIC,OAAM,GAAI;QACZC,UAAS,EAAI,CAAC,CADF;QAEZC,KAAI,EAAIL,KAFI;QAGZM,OAAM,EAAI,KAAKf;MAHH,CAAd;MAKA,IAAIgB,IAAG,GAAI,IAAX;MACArB,GAAG,CAACsB,WAAJ,CAAgBL,OAAhB,EAAyBM,IAAzB,CAA8BC,GAAE,IAAK;QACnChB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACtB,IAAhB;QACAmB,IAAI,CAACjB,SAAL,CAAeqB,IAAf,CAAoBR,OAApB;QACAI,IAAI,CAACK,cAAL;QACAL,IAAI,CAAChB,YAAL,GAAoB,EAApB;QACAgB,IAAI,CAACM,aAAL;MAED,CAPD,EATU,CAiBV;MACA;MACA;IACD,CAhCM;;IAkCPD,cAAc,GAAE;MACdlB,OAAO,CAACC,GAAR,CAAY,mBAAZ;MACA,KAAKN,QAAL,GAAgB,KAAhB;IACD,CArCM;;IAuCPyB,SAAS,CAACC,KAAD,EAAO;MACdrB,OAAO,CAACC,GAAR,CAAY,qBAAqB,KAAKL,SAAL,CAAeyB,KAAf,EAAsBT,OAAvD;MACA,IAAIH,OAAM,GAAI,KAAKb,SAAL,CAAeyB,KAAf,CAAd;MACA,IAAIR,IAAG,GAAI,IAAX;MACArB,GAAG,CAAC8B,cAAJ,CAAmBb,OAAnB,EAA4BM,IAA5B,CAAiCC,GAAE,IAAK;QACtChB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACtB,IAAhB;QACAmB,IAAI,CAACjB,SAAL,CAAe2B,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;QACAR,IAAI,CAACM,aAAL;MACD,CAJD,EAJc,CASd;IACD,CAjDM;;IAkDPA,aAAa,GAAE;MACb,KAAKK,KAAL,CAAW,iBAAX;IACD,CApDM;;IAqDPC,cAAc,GAAE;MACd,KAAK7B,SAAL,CAAe2B,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;IACF;;EAvDO,CATM;;EAuEfK,OAAO,GAAE;IACP,KAAK9B,SAAL,GAAiBL,KAAK,CAACgB,OAAN,CAAcoB,YAA/B;;IACA,IAAG,KAAK/B,SAAL,IAAkB,IAArB,EAA0B;MACxB,KAAKA,SAAL,GAAiB,EAAjB;IACF;EACF;;AA5Ee,CAAf","names":["store","api","name","data","isAdding","locations","newLocstring","methods","addNewLoc","console","log","length","ElMessage","error","confirmAdd","emial","getters","getEmail","locInfo","locationid","email","address","that","addLocation","then","res","push","clsoeNewLocBar","triggerUpdate","deleteLoc","index","deleteLocation","splice","$emit","removeLocation","created","getLocations"],"sourceRoot":"","sources":["/Users/yuchencao/C/CICD Learning/medicineOne/src/main/resources/medioneVUE/medicine-one/src/components/MyLocation.vue"],"sourcesContent":["/**\n/*\n* \n* @description: This component contains add location function, \n*               function about add new location, delete location\n* @author: Yuchen Cao\n* @update: Yuchen Cao (2022-11-4 11:16)\n*\n*/\n<template>\n  <div class=\"my_location_container\">\n    <div class=\"location_contrainer\" v-for=\"(loc,index) in this.locations\" :key='loc'>\n      <h4> Location {{ index + 1 }} : <el-icon class=\"close_icon\" :size=\"20\" @click=\"deleteLoc(index)\"><CloseBold /></el-icon></h4>\n      \n      <div class=\"loc_detail\"> {{ loc.address }}</div>\n    </div>\n\n    <div class=\"add_button\" v-show=\"this.locations.length < 5\">\n      <el-icon :size=30 color=\"#FFF\" class=\"plus_icon\" @click=\"addNewLoc()\"><Plus /></el-icon>\n    </div>\n\n    <div v-show=\"this.isAdding\" class=\"add_loc_bar\">\n      <div>\n        <input type=\"text\" class=\"input_bar\" v-model=\"this.newLocstring\">\n      </div>\n       <div class=\"confirm_button\" @click=\"confirmAdd()\">\n        Confirm\n      </div>\n      <div class=\"confirm_button\" @click=\"clsoeNewLocBar()\">\n        Cancle\n      </div>   \n    </div>\n\n\n  </div>\n</template>\n\n<script>\n  import store from '../store/index'\n  import api from '../api/index'\n\n  export default {\n  name: 'Mylocation',\n  data() {\n    return {\n      isAdding : false,\n      locations : [],\n      newLocstring : '',\n    }\n  },\n  methods: {\n\n    addNewLoc(){\n      console.log(\"adding new locations\")\n      if(this.locations.length < 5){\n        this.isAdding = true\n      }\n      else {\n        ElMessage.error('At most 5 locations')\n      }\n    },\n\n    confirmAdd(){\n      console.log('new location is ' + this.newLocstring)\n      var emial = store.getters.getEmail\n      var locInfo = {\n        locationid : -1,\n        email : emial,\n        address : this.newLocstring\n      }\n      var that = this\n      api.addLocation(locInfo).then(res => {\n        console.log(res.data)\n        that.locations.push(locInfo)\n        that.clsoeNewLocBar()\n        that.newLocstring = ''\n        that.triggerUpdate()\n        \n      })\n      // this.clsoeNewLocBar()\n      // this.locations.push(locInfo)\n      // this.newLocstring = ''\n    },\n\n    clsoeNewLocBar(){\n      console.log(\"close new loc bar\")\n      this.isAdding = false\n    },\n\n    deleteLoc(index){\n      console.log(\"Delete location \" + this.locations[index].address)\n      var locInfo = this.locations[index]\n      var that = this\n      api.deleteLocation(locInfo).then(res => {\n        console.log(res.data)\n        that.locations.splice(index, 1)\n        that.triggerUpdate()\n      })\n      // this.locations.splice(index, 1)\n    },\n    triggerUpdate(){\n      this.$emit(\"location-update\")\n    },\n    removeLocation(){\n      this.locations.splice(index, 1)\n    }\n\n    \n    \n\n\n  },\n  created(){\n    this.locations = store.getters.getLocations\n    if(this.locations == null){\n      this.locations = []\n    }\n  }\n}\n</script>\n\n<style scoped>\n  /* import the Poppins font family */\n@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n\n.add_button {\n  text-align: center;\n}\n\n.plus_icon {\n  width: 1.4em;\n  height: 1.4em;\n  background-color: #6E78F7;\n  border-radius: 50%;\n  transition-duration: 0.5s;\n  margin-top: 1em\n}\n\n.plus_icon:hover {\n  background-color: #89D3F5;\n  color: white;\n}\n\n.loc_detail {\n  border: #b8cbdd;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 1em;\n  padding-left: 1em;\n  box-shadow: 2px 2px 2px #b8cbdd;\n  font-size: 1em;\n}\n\n.location_contrainer {\n  border-color: #b8cbdd;\n  border-radius: 1em;\n  border-width: 1px;\n  border-style: solid;\n  margin-top: 1em;\n  padding: 0 1em 1em 1em;\n  box-shadow: 2px 2px 2px #b8cbdd;\n  transition: 0.3s\n}\n\n.location_contrainer:hover{\n  box-shadow: 10px 10px 10px #8294a3;\n}\n\n.add_loc_bar {\n  border-width: 1px;\n  border-style: solid;\n  border-color: #b8cbdd;\n  border-radius: 1em;\n  padding: 0 1em 1em 1em;\n  box-shadow: 3px 3px 3px #b8cbdd;\n  margin-top: 1em;\n\n}\n\n@media screen and (max-width: 992px){\n\n\n  /* The purple background button*/\n  .confirm_button {\n    height: 2em;\n    /* width: 21em; */\n    border-radius:2em;\n    border-style: none;\n    background: #5A7BEF;\n    color: white;\n    font-size: 16px;\n    font-weight: 400;\n    margin-top: 3em;\n    text-align: center;\n    margin-top: 1.5em;\n  }\n\n  .close_icon{\n    position: relative;\n    left: 10em;\n    color: #FFF;\n    background-color: #6E78F7;\n    border-radius: 1em;\n  }\n\n  .input_bar {\n    width: 90%;\n    height: 1.7em;\n    font-size: 1em;\n    margin-top: 1em;\n    border-radius: 1em;\n    padding: 0 5%;\n    border-width: 0;\n    box-shadow: 2px 2px 2px #b8cbdd;\n  }\n\n  h4 {\n    margin-bottom: 0.6em;\n  }\n}\n\n@media screen and (min-width: 992px) {\n\n  /* The purple background button*/\n  .confirm_button {\n    height: 2em;\n    width: 100%;\n    border-radius: 2em;\n    border-style: none;\n    background: #6E78F7;\n    /* margin-bottom: 1em; */\n    color: white;\n    font-size: 1.25em;\n    font-weight: 900;\n    -webkit-transition-duration: 0.5s; /* Safari */\n    transition-duration: 0.5s;\n    text-align: center;\n    margin-top: 3em;\n  }\n\n  .confirm_button:hover {\n    background-color: #89D3F5;\n    color: white;\n  }\n\n  .close_icon{\n    position: relative;\n    left: 82%;\n    color: #FFF;\n    background-color: #6E78F7;\n    border-radius: 1em;\n  }\n\n  .input_bar {\n    width: 90%;\n    height: 3em;\n    font-size: 1.5em;\n    margin-top: 2em;\n    border-radius: 1em;\n    padding: 0 5%;\n    border-width: 0;\n    box-shadow: 2px 2px 2px #b8cbdd;\n  }\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}