"use strict";(self["webpackChunkmedicine_one"]=self["webpackChunkmedicine_one"]||[]).push([[58],{1772:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(1015),r=(n(8474),n(8992)),s=n(3396),l=n(9242),o=n(7139);const i=e=>((0,s.dD)("data-v-0dd5057c"),e=e(),(0,s.Cn)(),e),d={class:"container"},c={class:"center_bar content_container",style:{"margin-left":"0"}},u=i((()=>(0,s._)("h3",{class:"desk_top_only"},"Reset Password",-1))),p={class:"center_bar_content"},_=i((()=>(0,s._)("tr",{class:"center_bar_label"},[(0,s._)("label",{class:"center_bar_title"},"Email:")],-1))),w=i((()=>(0,s._)("tr",{class:"center_bar_label"},[(0,s._)("label",{class:"center_bar_title"},"Verification Code:")],-1))),m=i((()=>(0,s._)("tr",{class:"center_bar_label"},[(0,s._)("label",{class:"center_bar_title"},"Set Password:")],-1))),b={key:0,class:"warning"},y=i((()=>(0,s._)("tr",{class:"center_bar_label"},[(0,s._)("label",{class:"center_bar_title"},"Confirm New Password:")],-1)));function g(e,t,n,i,g,h){const v=r.Z,f=(0,s.up)("Back"),k=a.gn;return(0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(v,{header:e.headerTitle,btnStyle:g.headerStyle,class:"phone_only",onOpenSideBarEvent:e.openSideBar},null,8,["header","btnStyle","onOpenSideBarEvent"]),(0,s._)("div",c,[u,(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>h.backToPrev&&h.backToPrev(...e)),class:"return_button desktop_only"},[(0,s.Wm)(k,{size:30,color:"#6E78F7"},{default:(0,s.w5)((()=>[(0,s.Wm)(f)])),_:1})]),(0,s._)("table",p,[_,(0,s._)("tr",null,[(0,s._)("p",null,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>g.email=e),class:"input_area"},null,512),[[l.nr,g.email,void 0,{trim:!0}]])])]),w,(0,s._)("tr",null,[(0,s._)("p",null,[(0,s.wy)((0,s._)("input",{type:"string","onUpdate:modelValue":t[2]||(t[2]=e=>g.code=e),class:"input_area"},null,512),[[l.nr,g.code,void 0,{trim:!0}]])])]),m,(0,s._)("tr",null,[(0,s._)("p",null,[(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>g.pwd=e),class:"input_area"},null,512),[[l.nr,g.pwd,void 0,{trim:!0}]])]),g.iswarning?((0,s.wg)(),(0,s.iD)("p",b,(0,o.zw)(g.warningText),1)):(0,s.kq)("",!0)]),y,(0,s._)("tr",null,[(0,s._)("p",null,[(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>g.pwdRepeat=e),class:"input_area"},null,512),[[l.nr,g.pwdRepeat,void 0,{trim:!0}]])])]),(0,s._)("tr",null,[(0,s._)("p",null,[(0,s._)("input",{type:"button",class:"purple_button",value:"Send Verify Code",onClick:t[5]||(t[5]=(...e)=>h.verifyButton&&h.verifyButton(...e))})])]),(0,s._)("tr",null,[(0,s._)("p",null,[(0,s._)("input",{type:"submit",value:"Confirm",class:"purple_button",onClick:t[6]||(t[6]=(...e)=>h.resetPassword&&h.resetPassword(...e))})])])])])])}var h=n(6666),v=n(4775),f=(n(8742),n(3163),n(1994)),k={name:"RegisterView",data(){return{iswarning:!1,errorMessage:"",warningText:"",email:"",code:"",pwd:"",pwdRepeat:"",headerStyle:"Return"}},components:{HeadBar:r.Z},methods:{verifyButton(){this.verifyCode()},verifyCode(){var e=this;const t=this.openFullScreen2();f.Z.emailVerify(e.userName,e.email).then((function(e){t.close(),200==e.data.status?(console.log(e.data),(0,h.bM)({message:"Verify code send out",type:"success",duration:5e3})):(0,h.bM)({message:"Invalid email",type:"error",duration:5e3})}))},backToPrev(){this.$router.back(-1)},confirmButton(){this.isEmpty()},resetPassword(){var e=this;if(e.email.length<1||e.code.length<1||e.pwd.length<1||e.pwdRepeat.length<1)(0,h.bM)({message:"You must complete all information!",type:"warning",duration:5e3});else if(e.pwd.length<=7)(0,h.bM)({message:"The password must be at least 8 characters!",type:"warning",duration:5e3});else if(e.pwd!=e.pwdRepeat)(0,h.bM)({message:"The two password are inconsistent!",type:"warning",duration:5e3});else{const t=this.openFullScreen2();f.Z.resetPassward(e.email,e.code,e.pwd).then((function(n){t.close(),200==n.data.status?(e.$router.push({path:"/"}),(0,h.bM)({message:"Success!",type:"success",duration:5e3})):(e.errorMessage=n.data.msg,(0,h.bM)({message:e.errorMessage,type:"error",duration:5e3}))}))}},openFullScreen2(){const e=v.kN.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});return e}},mounted(){this.displayDeskOnly=window.innerWidth>992}},S=n(89);const C=(0,S.Z)(k,[["render",g],["__scopeId","data-v-0dd5057c"]]);var M=C}}]);
//# sourceMappingURL=resetPassword.fd7413a5.js.map